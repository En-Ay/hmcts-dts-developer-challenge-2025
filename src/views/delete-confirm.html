{% extends "layout.html" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    {{ govukBackLink({ text: "Back", href: "/edit-task/" + task.id }) }}

    <h1 class="govuk-heading-l">Are you sure you want to delete this task?</h1>

    <div class="govuk-inset-text">

      {{ govukSummaryList({
        rows: [
          { key: { text: "Task ID" }, value: { text: task.id|string } },
          { key: { text: "Title" }, value: { text: task.title } },
          { key: { text: "Description" }, value: { text: task.description or "No description provided" } },
          { key: { text: "Status" }, value: { text: task.status } },
          { key: { text: "Due Date" }, value: { text: task.due_date_formatted } },
          { key: { text: "Created At" }, value: { text: task.created_at_formatted } }
        ]
      }) }}

    </div>

    <p class="govuk-body">This action cannot be undone.</p>

    <form action="/delete-task/{{ task.id }}" method="POST">
      <div class="govuk-button-group">
        {{ govukButton({
          text: "Yes, delete task",
          classes: "govuk-button--warning"
        }) }}
        <a class="govuk-link" href="/edit-task/{{ task.id }}">Cancel</a>
      </div>
    </form>

  </div>
</div>
{% endblock %}
