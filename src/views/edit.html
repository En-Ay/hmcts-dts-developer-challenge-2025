{% extends "layout.html" %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/select/macro.njk" import govukSelect %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    {{ govukBackLink({ text: "Back", href: "/" }) }}
    
    <h1 class="govuk-heading-xl">Edit Task</h1>

    <input type="hidden" id="task-id" value="{{ taskId }}">

    <form id="edit-task-form">
      {{ govukInput({
        label: { text: "Task Title", classes: "govuk-label--l" },
        id: "title", name: "title"
      }) }}

      {{ govukTextarea({
        name: "description", id: "description",
        label: { text: "Description", classes: "govuk-label--m" }
      }) }}

      {{ govukSelect({
        id: "status", name: "status",
        label: { text: "Status" },
        items: [
          { value: "PENDING", text: "Pending" },
          { value: "IN_PROGRESS", text: "In Progress" },
          { value: "COMPLETED", text: "Completed" }
        ]
      }) }}

      <div class="govuk-form-group">
        <label class="govuk-label" for="due_date">Due Date</label>
        <input class="govuk-input govuk-input--width-20" id="due_date" name="due_date" type="datetime-local">
      </div>

      <div class="govuk-button-group">
        {{ govukButton({ text: "Save Changes" }) }}
        
        <button type="button" class="govuk-button govuk-button--warning" id="delete-task-btn">
          Delete task
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}